## â˜ï¸ **Object Storage with Amazon S3 (Simple, Visual & Practical Guide)**

![Image](https://d2908q01vomqb2.cloudfront.net/e1822db470e60d090affd0956d743cb0e7cdf113/2023/02/17/Arch_Diagram_Replication_Image2.png)

![Image](https://d2908q01vomqb2.cloudfront.net/b6692ea5df920cad691c20319a6fffd7a4a766b8/2016/10/12/ParquetRename.png)

![Image](https://www.sqlshack.com/wp-content/uploads/2020/04/object-url-format.png)

![Image](https://blog.addpipe.com/content/images/2022/12/Amazon-S3-Management-Console-showing-the-https-Object-URL-for-a-file-in-the-bucket.png)

You already understand **block storage (EBS)**.
Now itâ€™s time to learn **where the internet stores files at massive scale** â€” **Amazon S3**.

---

# ğŸ§  The Core Question

### â“ *Why NOT store employee photos in EBS?*

Because **photos behave very differently from OS files or databases**.

Letâ€™s break it down ğŸ‘‡

---

## âŒ Why EBS is a bad fit for photos

| Limitation             | Why itâ€™s a problem                  |
| ---------------------- | ----------------------------------- |
| ğŸ”’ Attached to EC2     | Other instances canâ€™t easily access |
| ğŸ“ Fixed size          | You must pre-plan disk size         |
| ğŸ”„ Scaling pain        | More instances = more complexity    |
| ğŸ§© Not internet-native | Not designed for URLs               |

ğŸ“¸ **Photos need to be:**
âœ” Shared
âœ” Massively scalable
âœ” Accessible via the internet

ğŸ‘‰ Thatâ€™s exactly what **S3** was built for.

---

# âœ… Enter **Amazon S3**

**Amazon Simple Storage Service** (S3) is:

> **Storage for the Internet**

Key idea:

* Not attached to EC2
* Accessed via **HTTP/HTTPS URLs**
* Infinitely scalable (practically)

---

## ğŸŒ What makes S3 special?

```
Amazon S3
â”œâ”€â”€ Object storage (not block)
â”œâ”€â”€ Access via URL
â”œâ”€â”€ Massive scale
â”œâ”€â”€ Highly durable
â””â”€â”€ Independent of compute
```

---

## ğŸ“¦ Object Storage Refresher (Important)

| Block Storage          | Object Storage            |
| ---------------------- | ------------------------- |
| File split into blocks | File stored as one object |
| Partial updates        | Whole file replaced       |
| Mounted to OS          | Accessed via API/URL      |
| Best for OS, DB        | Best for images, videos   |

ğŸ“¸ **Employee photos** = **Object Storage** â†’ **S3**

---

# ğŸª£ Core S3 Concepts (Visualized)

## 1ï¸âƒ£ Buckets (Top-Level Container)

```
S3
â””â”€â”€ Bucket
    â”œâ”€â”€ photo1.jpg
    â”œâ”€â”€ photo2.png
    â””â”€â”€ folder/
        â””â”€â”€ image3.jpg
```

* You **must** create a bucket first
* Buckets hold **objects**
* Folders are logical (not real directories)

---

### ğŸŒ Bucket Rules (VERY IMPORTANT)

| Rule               | Meaning                                     |
| ------------------ | ------------------------------------------- |
| ğŸŒ Globally unique | No two AWS accounts can share the same name |
| ğŸŒ DNS-compliant   | Used in URLs                                |
| ğŸ“ Region-specific | Lives in ONE AWS region                     |

Example bucket name:

```
employee-photo-bucket-sr-001
```

---

## 2ï¸âƒ£ Objects (The actual files)

Each object has:

* File data
* Metadata
* **Object Key** (name)
* URL

### ğŸ”— Object URL Structure

```
https://bucket-name.s3.region.amazonaws.com/object-key
```

Example:

```
https://employee-photo-bucket-sr-001.s3.us-west-2.amazonaws.com/john.jpg
```

---

# ğŸ§  Why S3 Scales So Well

### ğŸ” Distributed Storage

* Stored across **multiple facilities**
* Inside **one AWS region**

### ğŸ’ª Reliability Numbers

* **99.99% Availability**
* **11 nines (99.999999999%) Durability**

ğŸ§  Translation:

> If you store 10 million objects, you might lose **ONE every 10,000 years**

---

# ğŸ” S3 Security Model (CRITICAL)

## ğŸš« Default behavior: **PRIVATE**

> â— **Everything in S3 is private by default**

* Buckets â†’ private
* Objects â†’ private
* URLs â†’ **Access Denied**

This prevents **accidental data leaks**.

---

## ğŸŒ Making an Object Public (Step-by-Step Logic)

To make an object public, AWS forces **multiple confirmations**:

### Step 1ï¸âƒ£ Disable *Block Public Access*

Bucket â†’ Permissions â†’ Edit â†’ Uncheck

### Step 2ï¸âƒ£ Enable ACLs (if needed)

Bucket â†’ Object Ownership â†’ Enable ACLs

### Step 3ï¸âƒ£ Make Object Public

Object â†’ Actions â†’ *Make public using ACL*

ğŸ“¢ AWS does this on purpose â€” **security first**.

---

# ğŸ§  Access Control Options in S3

## ğŸ”‘ 1ï¸âƒ£ IAM Policies

Attached to:

* Users
* Groups
* Roles

Controls:

* Who can access S3
* What actions they can perform

Uses **AWS Identity and Access Management**

---

## ğŸª£ 2ï¸âƒ£ S3 Bucket Policies (VERY COMMON)

* Attached **only to buckets**
* Written in JSON
* Control access to:

  * Entire bucket
  * All objects inside

Example use cases:

* Allow another AWS account to upload files
* Allow read-only public access
* Restrict uploads to specific roles

ğŸ§  Bucket policy applies to **ALL objects** inside.

---

## âš–ï¸ IAM vs Bucket Policy (Clear Difference)

| IAM Policy           | S3 Bucket Policy   |
| -------------------- | ------------------ |
| Attached to identity | Attached to bucket |
| User-focused         | Resource-focused   |
| Works across AWS     | Only S3            |

---

# ğŸ§© How S3 Fits into Employee Directory App

```
Employee Directory Architecture
â”œâ”€â”€ EC2 + EBS â†’ App & OS
â”œâ”€â”€ S3 â†’ Employee photos
â””â”€â”€ Database â†’ Employee info
```

âœ” All EC2 instances can access photos
âœ” No disk size planning
âœ” Photos load via URL
âœ” App scales easily

Perfect design ğŸ†

---

# ğŸ¯ Exam & Real-World Takeaways

* S3 = **object storage**
* Not mounted like EBS
* Accessed via **URL / API**
* Default = **private**
* Buckets are **globally unique**
* Ideal for:

  * Images
  * Videos
  * Backups
  * Static website assets

> ğŸ§  If data must be shared, scalable, and internet-accessible â†’ **S3**

---

## ğŸš€ Whatâ€™s Next

Coming up:

* ğŸ§  Choosing **EBS vs S3 vs EFS**
* ğŸ§ª Demo: Creating an S3 bucket
* ğŸ“Š Storage service comparison
* â“ Exam-style questions

